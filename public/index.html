<!DOCTYPE html>
<html>
<head>
  <title>Sketchpad!</title>
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
  <script src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
  <script type="text/javascript" src="javascripts/raphael.min.js"></script>
  <script type="text/javascript" src="javascripts/raphael.sketchpad.js"></script>
  <style type="text/css">
    body { background-color: #fff; color: #666; text-align: center; font-family: arial, sans-serif; }
    div.dialog {
      width: 25em;
      padding: 0 4em;
      margin: 4em auto 0 auto;
      border: 10px solid #ccc;
    }
    div.editor {
      border: 10px solid #ccc;
      width: 400px;
      height: 400px;
      margin: 4em auto 0 auto;
    }
    h1 { font-size: 30px; color: #000; line-height: 1.5em; }
  </style>
</head>

<body>
  <div class="dialog">
    <h1>Sketchpad!</h1>
  </div>
  <div id="editor" class="editor"></div>
  <form action="save" method="post">
  	<input type="hidden" id="data" name="data" />
  	<input type="submit" value="Save" />
  </form>
  
  <script type="text/javascript">
  	var sketchpad = Raphael.sketchpad("editor", {
  		width: 400,
  		height: 400,
  		editing: true
  	});
  
  	// When the sketchpad changes, update the input field.
  	sketchpad.change(function() {
  		$("#data").val(sketchpad.json());
  	});
  </script>

  <div id="viewer"></div>
  <script type="text/javascript">
  	var strokes = [{
  		type:"path",
  		path:[["M",10,10],["L",390,390]],
  		fill:"none", "stroke":"#000000",
  		stroke-opacity:1,
  		stroke-width:5,
  		stroke-linecap:"round",
  		stroke-linejoin:"round"
  	}];
  	var sketchpad = Raphael.sketchpad("viewer", {
  		width: 400,
  		height: 400,
  		strokes: strokes,
  		editing: false
  	});
  </script>
</body>
</html>
